---
title: JS及编辑原理
date: 2024-04-22 15:16:27
tags: JavaScript编译原理
---
[TOC]
# JS及编辑原理
即便大家跟喜欢称JS为“解释性语言”，但是事实上它是一门编译语言。不同于传统的编译语言，它不是提前编译的，编译结果也不能在分布式系统中移植。
## 传统编译语言的流程中，程序中的一段源代码会在执行之前经历三个步骤，统称为编译：
### 分词/语法分析：
这个过程会把字符串拆分成各个代码块，这些代码块被称为词法单元；如果**空格**在这门语言中有意义的话，也会被视作词法单元。
  分词与语法分析的界限在我看来较为模糊，两者之间区别非常微妙晦涩：
     在定义上：分词主要关注单词或词形的识别和分类，而语法分析侧重于确定句子中的语法关系和结构。
     在应用上：分词通常在语法分析之前进行，为语法分析提供输入；语法分析则使用分词的结果作为输入，并确定单词之间的依存关系和功能关系：
     **分词=>语法分析=>单词之间的依存关系和功能关系**
### 解析/语法分析：
这个过程是将数组（词法单元流）转换成一个由元素逐级嵌套所组成的代表了程序语法结构的树——抽象语法树。
#### 抽象语法树：
抽象语法树(Abstract Syntax Tree,AST)：以树的形式表示程序的语法结构，其中每个节点代表源代码中的一个语法元素，AST是编译器和代码分析工具的核心组件，由于它的存在得以以结构化的方式来表示和理解源代码，便于更佳有效的进行语法检查和优化。
ps：这是一个比较抽象的知识点概念，很难具像化的进行描述。
### 代码生成：
这个过程是指将AST转换成可执行代码的过程被称为代码生成。与语言以及目标平台等息息相关。
简单描述的话，就是有某种方法可以将`var a = 2`的AST转化为一组机械指令，用来创建一个叫做a的变量（包括分配内存等），并且将一个值储存在a中。
**因此比起只有三个步骤的语言的编译器而言，JS编译器引擎要复杂的多**
### JavaScript编译与其他计算机语言的差异化
JS引擎不会有大量的时间（相较于其他语言的编译器）进行优化，不同于其他语言，JS的编译过程不是发生在构建之前的。JS的编译大部分情况下发生在代码执行前的几微秒（甚至更短）的时间内。
